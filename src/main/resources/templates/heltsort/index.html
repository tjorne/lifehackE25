<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8"/>
    <title>Er det helt sort?!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="/css/erdetheltsort.css" th:href="@{/css/erdetheltsort.css}"/>
</head>
<body>

<header>
    <nav>
        <button>
            <a id="lifehack" href="index.html" th:href="@{/}">ğŸ˜Lifehack</a>
        </button>

        <button>
            <a id="home" href="index.html" th:href="@{/heltsort}">ğŸ Home</a>
        </button>

        <button id="themeSwitch" type="button">ğŸŒ“Mode</button>
    </nav>

    <a href="index.html" th:href="@{/heltsort}">
        <img src="/images/heltsort/erdetheltsort_long.png"
             alt="Er det helt sort?!"
             th:src="@{/images/heltsort/erdetheltsort_long.png}"/>
    </a>

</header>

<main>
    <div class="calculator-container">
        <section>
            <h1>Professionelt arbejde, med et glimt i Ã¸jet</h1>
            <p>FÃ¥ et hurtigt overblik over prisen pÃ¥ malerarbejde â€“ uden moms og uden mellemled.<br>
                VÃ¦lg vÃ¦gtypen, indtast dine mÃ¥l, og se hvad â€œhelt sortâ€ egentlig koster.</p>
        </section>
        <br>
        <section class="title-container">
            <h2>VÃ¦lg din vÃ¦gtype &amp; indsÃ¦t dine mÃ¥l</h2>
        </section>

        <form method="post" th:action="@{/getresult}">
            <section class="radio-group">
                <label>
                    <input type="radio" name="materiale" value="Gasbeton/Beton"
                           th:checked="${materiale == null or materiale=='Gasbeton/Beton'}">
                    Gasbeton/Beton
                </label>
                <label>
                    <input type="radio" name="materiale" value="Gips"
                           th:checked="${materiale == 'Gips'}">
                    Gips
                </label>
                <label>
                    <input type="radio" name="materiale" value="Eksisterende vÃ¦g"
                           th:checked="${materiale == 'Eksisterende vÃ¦g'}">
                    Eksisterende vÃ¦g/loft
                </label>

            </section>

            <section class="areas-container">
                <input id="mode-m2" class="hidden-radio" type="radio" name="mode" value="m2"
                       th:checked="${mode == null or mode == 'm2'}" checked>

                <input id="mode-hb" class="hidden-radio" type="radio" name="mode" value="hb"
                       th:checked="${mode == 'hb'}">

                <div class="toggle" role="tablist" aria-label="Input-tilstand">
                    <label for="mode-m2" class="toggle-option" role="tab" aria-selected="true">MÂ²</label>
                    <label for="mode-hb" class="toggle-option" role="tab">HÃ¸jde Ã— Bredde</label>
                    <span class="toggle-thumb" aria-hidden="true"></span>
                </div>

                <div class="mode mode-m2">
                    <label>
                        MÂ²
                        <input type="number" name="m2" step="0.01" placeholder="fx 40" th:value="${m2}">
                    </label>
                </div>

                <div class="mode mode-hb">
                    <label>
                        HÃ¸jde (m)
                        <input type="number" name="height" step="0.01" placeholder="fx 2.4" th:value="${height}">
                    </label>
                    <label>
                        Bredde (m)
                        <input type="number" name="width" step="0.01" placeholder="fx 5" th:value="${width}">
                    </label>
                </div>

                <div class="centerBox">
                    <button type="submit" formaction="/getresult">Beregn vejledende pris</button>
                </div>
            </section>
        </form>
    </div>

    <div class="centerBox">
        <p class="error" th:if="${session.inputerror != null}" th:text="${session.inputerror}"></p>
    </div>
</main>

<footer>
    <a href="https://github.com/Obliwobbi" th:href="@{https://github.com/Obliwobbi}" target="_blank">
        <img src="/images/heltsort/github_logo.png"
             alt="Toby's Github"
             th:src="@{/images/heltsort/github_logo.png}"/>
    </a>
    <h3>Project by</h3>
    <a href="https://github.com/JesperTAndersen" th:href="@{https://github.com/JesperTAndersen}" target="_blank">
        <img id="rightimg" src="/images/heltsort/github_logo.png"
             alt="Jesper's Github"
             th:src="@{/images/heltsort/github_logo.png}"/>
    </a>
</footer>

<script>
    (function applySavedTheme() {
        try {
            const saved = localStorage.getItem('theme');
            if (saved === 'light') {
                document.body.classList.add('light');
            }
        } catch (_) {
        }
    })();

    (function wireThemeSwitcher() {
        const btn = document.getElementById('themeSwitch');
        if (!btn) return;

        btn.addEventListener('click', () => {
            const isLight = document.body.classList.toggle('light');
            try {
                localStorage.setItem('theme', isLight ? 'light' : 'dark');
            } catch (_) {
            }
        });
    })();
</script>

</body>
</html>
